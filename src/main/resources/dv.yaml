product:
  name: Red Hat Integration DV
  abbreviation: RHI-DV
  stage: ${build.milestone}
  issueTrackerUrl: http://issues.jboss.org/browse/ENTESB
version: 1.0.0
milestone: ${build.milestone}
group: Red Hat Integration - DV 1.0 ${build.milestone}
defaultBuildParameters:
  environmentId: 27
  buildScript: 'mvn -e -V -B -DskipTests  -Dmaven.test.skip=true -DfailIfNoTests=false -Dtest=false  -Dgpg.skip=true clean deploy'

builds:
- name: oreva-${version.fuse.prefix}
  project: teiid/oreva
    #fetchScmUrl: ${oreva.fetch.scmUrl}
    #pushScmUrl: ${oreva.push.scmUrl}
    #tag: ${oreva.tag}
    #buildCommand: ${oreva.buildCommand}
  scmUrl: git+ssh://code.engineering.redhat.com/jboss-fuse/oreva.git
  externalScmUrl: ssh://git@github.com/jboss-fuse/oreva.git
  scmRevision: oreva-${version.oreva}
  pigYamlMetadata: Fuse dev build ${build.url} Fuse ${yaml.name} yaml config ${project.version}
  customPmeParameters:
    - ${oreva.pme.options}
  buildScript: 'mvn -e -V -B -DskipTests -Dmaven.test.skip=true -DfailIfNoTests=false -Dtest=false -Dgpg.skip=true -Prelease clean deploy'

- name: teiid-${version.fuse.prefix}
  project: teiid/teiid
    #fetchScmUrl: ${teiid.fetch.scmUrl}
    #pushScmUrl: ${teiid.push.scmUrl}
    #tag: ${teiid.tag}
    #buildCommand: ${teiid.buildCommand}
  scmUrl: git+ssh://code.engineering.redhat.com/jboss-fuse/teiid.git
  externalScmUrl: ssh://git@github.com/jboss-fuse/teiid.git
  scmRevision: teiid-${version.teiid}
  pigYamlMetadata: Fuse dev build ${build.url} Fuse ${yaml.name} yaml config ${project.version}
  customPmeParameters:
    - ${teiid.pme.options}
  buildScript: >
     mvn -e -V -B -DskipTests -DfailIfNoTests=false -Dtest=false -Dgpg.skip=true -Pcore-release clean deploy
  dependencies:
  - oreva-${version.fuse.prefix}

- name: teiid-spring-boot-${version.fuse.prefix}
  project: teiid/teiid-spring-boot
    #fetchScmUrl: ${teiid-spring-boot.fetch.scmUrl}
    #pushScmUrl: ${teiid-spring-boot.push.scmUrl}
    #tag: teiid-spring-boot-${version.teiid-spring-boot}
    #buildCommand: ${teiid-spring-boot.buildCommand}
  scmUrl: git+ssh://code.engineering.redhat.com/jboss-fuse/teiid-spring-boot.git
  externalScmUrl: ssh://git@github.com/jboss-fuse/teiid-spring-boot.git
  scmRevision: teiid-spring-boot-${version.teiid-spring-boot}
  pigYamlMetadata: Fuse dev build ${build.url} Fuse ${yaml.name} yaml config ${project.version}
  customPmeParameters:
    - ${teiid-spring-boot.pme.options}
  buildScript: 'mvn -e -V -B -DskipTests -Dmaven.test.skip=true -DfailIfNoTests=false -Dtest=false -DaltDeploymentRepository=indy-mvn::${AProxDeployUrl} -Dgpg.skip=true -Prelease clean deploy'
  dependencies:
  - teiid-${version.fuse.prefix}
  

outputPrefixes:
  releaseFile: redhat-integration-dv
  releaseDir: integration/RHIDV

flow:
  licensesGeneration:
    strategy: GENERATE

  repositoryGeneration:
    strategy: BUILD_GROUP
    sourceBuild: teiid-spring-boot-${version.fuse.prefix}
    includeLicenses: true
    
  javadocGeneration:
    strategy: GENERATE

addons:
  notYetAlignedFromDependencyTree:
